<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.chart.PieChart?>
<?import javafx.scene.chart.BarChart?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.layout.Priority?>
<AnchorPane xmlns="http://javafx.com/javafx/17" 
            xmlns:fx="http://javafx.com/fxml/1" 
            fx:controller="ccis.controllers.GrapheEspaceController"
            styleClass="main-container" 
            prefHeight="600" 
            prefWidth="1260"
             stylesheets="@/styles/graphesDemarche.css">
      <ScrollPane fx:id="scrollPane" fitToWidth="true" 
               hbarPolicy="NEVER" vbarPolicy="AS_NEEDED" 
               AnchorPane.topAnchor="0" AnchorPane.bottomAnchor="0"
               AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0">
      <content>
    <VBox spacing="30" AnchorPane.topAnchor="20.0" AnchorPane.leftAnchor="20.0" 
         AnchorPane.rightAnchor="20.0" AnchorPane.bottomAnchor="20.0">
        
        <!-- First row: Two PieCharts side by side -->
        <HBox spacing="20" alignment="CENTER">
          
            <!-- Second Circular Chart -->
            <VBox spacing="10" alignment="CENTER" HBox.hgrow="ALWAYS">
                <padding>
                    <Insets top="10" right="10" bottom="10" left="10" />
                </padding>
                <Button text="telecharger"  onAction="#downloadChart3"/>
                <Button text="copier"  onAction="#copyChart3"/>
                <PieChart fx:id="chart3" prefWidth="400" prefHeight="300"/>
                <Button text="telecharger"  onAction="#downloadTable3"/>
                <TableView fx:id="table3" prefHeight="150">
                    <columns>
                        <TableColumn fx:id="formeColumn" text="Forme Juridique" prefWidth="150"/>
                        <TableColumn fx:id="nombreVisiteColumn" text="Nombre de Visite" prefWidth="120"/>
                        <TableColumn fx:id="percentageFormeColumn" text="Pourcentage" prefWidth="100"/>
                    </columns>
                </TableView>
            </VBox>
              <!-- First Circular Chart -->
            <VBox spacing="10" alignment="CENTER" HBox.hgrow="ALWAYS">
                <padding>
                    <Insets top="10" right="10" bottom="10" left="10" />
                </padding>
                <Button text="telecharger"  onAction="#downloadChart1"/>
                <Button text="copier"  onAction="#copyChart1"/>                
                <PieChart fx:id="chart1" prefWidth="400" prefHeight="300"/>
                <Button text="telecharger"  onAction="#downloadTable1"/>
                <TableView fx:id="table1" prefHeight="150">
                    <columns>
                        <TableColumn fx:id="objetColumn" text="Objet de la Visite" prefWidth="200"/>
                        <TableColumn fx:id="totalColumn" text="Total" prefWidth="160"/>
                        <TableColumn fx:id="percentageColumn" text="Pourcentage" prefWidth="160"/>
                    </columns>
                </TableView>
            </VBox>
            
        </HBox>
        
        <!-- Second row: Bar Chart -->
        <VBox spacing="10" alignment="CENTER">
            <padding>
                <Insets top="10" right="10" bottom="10" left="10" />
            </padding>
            <Button text="telecharger" onAction="#downloadChart2"/>
            <Button text="copier"  onAction="#copyChart2"/>
            <BarChart fx:id="chart2" prefWidth="800" prefHeight="300">
                <xAxis>
                    <CategoryAxis fx:id="xAxis" label="Objet de Visite" />
                </xAxis>
                <yAxis>
                    <NumberAxis fx:id="yAxis" label="Délai (heures)" />
                </yAxis>
            </BarChart>
            <Button text="telecharger"  onAction="#downloadTable2"/>
            <TableView fx:id="table2" prefHeight="150">
                <columns>
                    <TableColumn fx:id="objetVisiteColumn" text="Objet de Visite" prefWidth="260"/>
                    <TableColumn fx:id="montantColumn" text="Montant (DH)" prefWidth="200"/>
                    <TableColumn fx:id="delaiMoyenColumn" text="Délai Moyen (heures)" prefWidth="260"/>
                    <TableColumn fx:id="pourcentageMontantColumn" text="Pourcentage Montant" prefWidth="260"/>
                    <TableColumn fx:id="pourcentageDelaiColumn" text="Pourcentage Délai" prefWidth="240"/>
                </columns>
            </TableView>
        </VBox>

        
    </VBox>
        </content>
        </ScrollPane>
</AnchorPane>